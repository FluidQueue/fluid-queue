# this captures the chat messages of that user as the chatbot responses
chatbot helperblock

settings {"channel":"liquidnya","clientId":"","clientSecret":"","max_size":50,"level_timeout":"10 minutes","level_selection":[],"message_cooldown":"5 seconds","showMakerCode":false,"clear":"all"}
# chatters
chatters ~%?liquidnya, @^FurretWalkBot, @''?^StreamElements, ^ViewerLevels
# chatty chat log
# ~ broadcaster
# @ moderator
# % subscriber

# set test timer accuracy to 1 minute to accuratly test the weight
accuracy 60000

[02:15:35] ~%?liquidnya: !clear
[02:15:35] @^helperblock: The queue has been cleared!

[16:26:45] ~%?liquidnya: !open
[16:26:45] @^helperblock: The queue is now open!

uuidv4 ca4476f0-aafa-4088-aba3-e7a1a43ea0f4
[16:26:45] ~%?liquidnya: !add NB0-1MD-SLG
[16:26:45] @^helperblock: liquidnya, NB0-1MD-SLG has been added to the queue.

uuidv4 f82d1de3-5f77-4ff0-9be2-0c34a1409b1a
[16:26:45] @^FurretWalkBot: !add NB0-1MD-SLG
[16:26:46] @^helperblock: FurretWalkBot, NB0-1MD-SLG has been added to the queue.

queue.json/entries/current null
queue.json/entries/queue [{"code":"NB0-1MD-SLG","type":"smm2","submitter":{"id":"${user(\"liquidnya\").id}","name":"liquidnya","displayName":"liquidnya"},"id":"ca4476f0-aafa-4088-aba3-e7a1a43ea0f4","submitted":"2022-04-21T16:26:45.000Z"},{"code":"NB0-1MD-SLG","type":"smm2","submitter":{"id":"${user(\"furretwalkbot\").id}","name": "furretwalkbot","displayName":"FurretWalkBot"},"id":"f82d1de3-5f77-4ff0-9be2-0c34a1409b1a","submitted":"2022-04-21T16:26:45.000Z"}]

[16:28:48] @^FurretWalkBot: !odds

restart

[16:28:48] @^helperblock: FurretWalkBot, you have a 50% chance of getting chosen in weighted random.

restart

[16:31:48] ~%?liquidnya: !odds
[16:31:48] @^helperblock: liquidnya, you have a 50% chance of getting chosen in weighted random.

random 0.999

[16:31:48] ~%?liquidnya: !random
[16:31:48] @^helperblock: Now playing NB0-1MD-SLG submitted by FurretWalkBot.

queue.json/waiting [{"user":{"id":"${user(\"liquidnya\").id}","name":"liquidnya","displayName":"liquidnya"},"waiting":{"minutes":6},"weight":{"minutes":6,"milliseconds":0},"lastOnline":"2022-04-21T16:31:48.000Z"}]

restart

queue.json/waiting  [{"user":{"id":"${user(\"liquidnya\").id}","name":"liquidnya","displayName":"liquidnya"},"waiting":{"minutes":6},"weight":{"minutes":6,"milliseconds":0},"lastOnline":"2022-04-21T16:31:48.000Z"}]

[16:31:48] ~%?liquidnya: !punt
[16:31:48] @^helperblock: Ok, adding the current level back into the queue.

# FurretWalkBot doesn't have 0.0%, because everyone starts with a wait time of 1

queue.json/waiting [{"user":{"id":"${user(\"liquidnya\").id}","name":"liquidnya","displayName":"liquidnya"},"waiting":{"minutes":6},"weight":{"minutes":6,"milliseconds":0},"lastOnline":"2022-04-21T16:31:48.000Z"},{"user":{"id":"${user(\"furretwalkbot\").id}","name": "furretwalkbot","displayName":"FurretWalkBot"},"waiting":{"minutes":1},"weight":{"minutes":1,"milliseconds":0},"lastOnline":"2022-04-21T16:31:48.000Z"}]


[16:31:48] @^FurretWalkBot: !odds
[16:31:48] @^helperblock: FurretWalkBot, you have a 14.3% chance of getting chosen in weighted random.

[16:31:48] ~%?liquidnya: !odds
[16:31:48] @^helperblock: liquidnya, you have a 85.7% chance of getting chosen in weighted random.

restart

[16:31:48] ~%?liquidnya: !odds
[16:31:48] @^helperblock: liquidnya, you have a 85.7% chance of getting chosen in weighted random.

restart
