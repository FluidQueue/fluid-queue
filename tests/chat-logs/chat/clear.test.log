# this captures the chat messages of that user as the chatbot responses
chatbot helperblock

settings {"channel":"liquidnya","clientId":"","clientSecret":"","max_size":50,"level_timeout":10,"level_selection":[],"message_cooldown":5,"showMakerCode":false}
# chatters
chatters ~%?liquidnya, @^FurretWalkBot, @''?^StreamElements, ^ViewerLevels
# chatty chat log
# ~ broadcaster
# @ moderator
# % subscriber

################################################################
# 1. First of all test the missing waiting time                #
################################################################

[12:15:33] ~%?liquidnya: !persistence off
[12:15:34] @^helperblock: @liquidnya Deactivated automatic queue persistence.
save:data/queue.json {"version":"3.0","entries":{"current":{"code":"QWF-3K9-84G","type":"smm2","submitter":{"id":"${user(\"furretwalkbot\").id}","name":"furretwalkbot","displayName":"${user(\"furretwalkbot\").displayName}"}},"queue":[{"code":"BW2-G2R-CMG","type":"smm2","submitter":{"id":"${user(\"liquidnya\").id}","name":"liquidnya","displayName":"liquidnya"}}]},"extensions":{},"waiting":[]}
[12:15:48] ~%?liquidnya: !persistence load
[12:15:49] @^helperblock: @liquidnya Reloaded queue state from disk.
[12:15:58] ~%?liquidnya: !persistence save
[12:15:59] @^helperblock: @liquidnya Successfully persisted the queue state.
[12:15:59] ~%?liquidnya: !persistence on
[12:15:59] @^helperblock: @liquidnya Activated automatic queue persistence.

# Waiting time was added to liquidnya, but not to FurretWalkBot
# The current level does not have a waiting time!
queue.json/waiting [{"user":{"id":"${user(\"liquidnya\").id}","name":"liquidnya","displayName":"liquidnya"},"waiting":{"minutes":1},"weight":{"minutes":1,"milliseconds":0},"lastOnline":"2022-04-21T12:15:48.000Z"}]

################################################################
# 2. Test !clear with invalid arguments                        #
################################################################

[12:17:00] ~%?liquidnya: !clear
[12:17:00] @^helperblock: Invalid arguments. Use "!clear all" to clear all levels, "!clear deleted" to clear levels of deleted users or use "!clear 6 months" to delete levels from users last online more than 6 months ago.

[12:18:00] ~%?liquidnya: !clear NB0-1MD-SLG
[12:18:00] @^helperblock: Invalid arguments. Use "!clear all" to clear all levels, "!clear deleted" to clear levels of deleted users or use "!clear 6 months" to delete levels from users last online more than 6 months ago.

# [sic!]
[12:19:00] ~%?liquidnya: !clear 10 mminutes
[12:19:00] @^helperblock: Invalid arguments. Use "!clear all" to clear all levels, "!clear deleted" to clear levels of deleted users or use "!clear 6 months" to delete levels from users last online more than 6 months ago.

################################################################
# 3. Test !clear all                                           #
################################################################

[12:15:33] ~%?liquidnya: !persistence off
[12:15:34] @^helperblock: @liquidnya Deactivated automatic queue persistence.
save:data/queue.json {"version":"3.0","entries":{"current":{"code":"3H7-B19-7RF","type":"smm2","submitter":{"id":"${user(0).id}","name":"${user(0).name}","displayName":"${user(0).oldDisplayName}"}},"queue":[{"code":"VCY-MQY-PSF","type":"smm2","submitter":{"id":"${user(1).id}","name":"${user(1).name}","displayName":"${user(1).displayName}"}},{"code":"6P7-MV9-WVG","type":"smm2","submitter":{"id":"${user(2).id}","name":"${user(2).name}","displayName":"${user(2).displayName}"}},{"code":"X8Y-004-MJG","type":"smm2","submitter":{"id":"${user(3).id}","name":"${user(3).name}","displayName":"${user(3).displayName}"}},{"code":"D36-010-5YF","type":"smm2","submitter":{"id":"${deleted(4).id}","name":"${deleted(4).name}","displayName":"${deleted(4).displayName}"}},{"code":"BG4-281-TGF","type":"smm2","submitter":{"id":"${user(5).id}","name":"${user(5).name}","displayName":"${user(5).displayName}"}},{"code":"S5N-2QQ-9RG","type":"smm2","submitter":{"id":"${user(6).id}","name":"${user(6).name}","displayName":"${user(6).displayName}"}},{"code":"798-W1R-CPF","type":"smm2","submitter":{"id":"${user(7).id}","name":"${user(7).name}","displayName":"${user(7).displayName}"}},{"code":"73K-FRP-HRF","type":"smm2","submitter":{"id":"${user(8).id}","name":"${user(8).name}","displayName":"${user(8).displayName}"}},{"code":"BW2-G2R-CMG","type":"smm2","submitter":{"id":"${user(9).id}","name":"${user(9).name}","displayName":"${user(9).displayName}"}},{"code":"QWF-3K9-84G","type":"smm2","submitter":{"id":"${user(11).id}","name":"${user(11).name}","displayName":"${user(11).displayName}"}},{"code":"BRL-F70-CLG","type":"smm2","submitter":{"id":"${user(12).id}","name":"${user(12).name}","displayName":"${user(12).displayName}"}},{"code":"CVW-RN8-54G","type":"smm2","submitter":{"id":"${user(13).id}","name":"${user(13).name}","displayName":"${user(13).displayName}"}},{"code":"YYD-P82-N5G","type":"smm2","submitter":{"id":"${user(14).id}","name":"${user(14).name}","displayName":"${user(14).displayName}"}},{"code":"RSR-WB0-CRG","type":"smm2","submitter":{"id":"${deleted(15).id}","name":"${deleted(15).name}","displayName":"${deleted(15).displayName}"}},{"code":"K7D-3MM-NLF","type":"smm2","submitter":{"id":"${user(16).id}","name":"${user(16).name}","displayName":"${user(16).displayName}"}},{"code":"9HX-VNY-WWG","type":"smm2","submitter":{"id":"${user(17).id}","name":"${user(17).name}","displayName":"${user(17).displayName}"}},{"code":"MD8-6SM-F7G","type":"smm2","submitter":{"id":"${user(18).id}","name":"${user(18).name}","displayName":"${user(18).displayName}"}},{"code":"Y75-T7K-74G","type":"smm2","submitter":{"id":"${user(19).id}","name":"${user(19).name}","displayName":"${user(19).displayName}"}},{"code":"GBJ-6QY-P8G","type":"smm2","submitter":{"id":"${user(20).id}","name":"${user(20).name}","displayName":"${user(20).displayName}"}},{"code":"TGC-J68-JGF","type":"smm2","submitter":{"id":"${user(21).id}","name":"${user(21).name}","displayName":"${user(21).displayName}"}},{"code":"HHQ-LM6-3HG","type":"smm2","submitter":{"id":"${user(22).id}","name":"${user(22).name}","displayName":"${user(22).displayName}"}},{"code":"Y0P-506-THG","type":"smm2","submitter":{"id":"${user(23).id}","name":"${user(23).name}","displayName":"${user(23).displayName}"}},{"code":"MY2-H2M-DSG","type":"smm2","submitter":{"id":"${user(24).id}","name":"${user(24).oldName}","displayName":"${user(24).oldDisplayName}"}},{"code":"37Y-6F7-1YG","type":"smm2","submitter":{"id":"${user(25).id}","name":"${user(25).name}","displayName":"${user(25).displayName}"}},{"code":"M5X-JRS-MWF","type":"smm2","submitter":{"id":"${user(26).id}","name":"${user(26).name}","displayName":"${user(26).displayName}"}},{"code":"9V1-4TX-9WG","type":"smm2","submitter":{"id":"${user(27).id}","name":"${user(27).name}","displayName":"${user(27).displayName}"}},{"code":"M12-QXX-BSF","type":"smm2","submitter":{"id":"${user(28).id}","name":"${user(28).name}","displayName":"${user(28).displayName}"}},{"code":"7CD-H25-TXG","type":"smm2","submitter":{"id":"${user(29).id}","name":"${user(29).name}","displayName":"${user(29).displayName}"}},{"code":"125-FDF-58G","type":"smm2","submitter":{"id":"${user(30).id}","name":"${user(30).name}","displayName":"${user(30).displayName}"}},{"code":"BYS-W9N-PRG","type":"smm2","submitter":{"id":"${user(31).id}","name":"${user(31).name}","displayName":"${user(31).displayName}"}},{"code":"S3W-3Y7-MJG","type":"smm2","submitter":{"id":"${user(32).id}","name":"${user(32).name}","displayName":"${user(32).displayName}"}}]},"extensions":{},"waiting":[{"user":{"id":"${deleted(101).id}","name":"${deleted(101).name}","displayName":"${deleted(101).displayName}"},"waiting":{"minutes":33},"weight":{"minutes":33,"milliseconds":0},"lastOnline":"2022-03-09T12:00:00.000Z"},{"user":{"id":"${user(100).id}","name":"${user(100).name}","displayName":"${user(100).displayName}"},"waiting":{"minutes":32},"weight":{"minutes":32,"milliseconds":0},"lastOnline":"2022-03-10T12:00:00.000Z"},{"user":{"id":"${user(1).id}","name":"${user(1).name}","displayName":"${user(1).displayName}"},"waiting":{"minutes":31},"weight":{"minutes":31,"milliseconds":0},"lastOnline":"2022-03-11T12:00:00.000Z"},{"user":{"id":"${user(2).id}","name":"${user(2).name}","displayName":"${user(2).displayName}"},"waiting":{"minutes":30},"weight":{"minutes":30,"milliseconds":0},"lastOnline":"2022-03-12T12:00:00.000Z"},{"user":{"id":"${user(3).id}","name":"${user(3).name}","displayName":"${user(3).displayName}"},"waiting":{"minutes":29},"weight":{"minutes":29,"milliseconds":0},"lastOnline":"2022-03-13T12:00:00.000Z"},{"user":{"id":"${deleted(4).id}","name":"${deleted(4).name}","displayName":"${deleted(4).displayName}"},"waiting":{"minutes":28},"weight":{"minutes":28,"milliseconds":0},"lastOnline":"2022-03-14T12:00:00.000Z"},{"user":{"id":"${user(5).id}","name":"${user(5).name}","displayName":"${user(5).displayName}"},"waiting":{"minutes":27},"weight":{"minutes":27,"milliseconds":0},"lastOnline":"2022-03-15T12:00:00.000Z"},{"user":{"id":"${user(6).id}","name":"${user(6).name}","displayName":"${user(6).displayName}"},"waiting":{"minutes":26},"weight":{"minutes":26,"milliseconds":0},"lastOnline":"2022-03-16T12:00:00.000Z"},{"user":{"id":"${user(7).id}","name":"${user(7).name}","displayName":"${user(7).displayName}"},"waiting":{"minutes":25},"weight":{"minutes":25,"milliseconds":0},"lastOnline":"2022-03-17T12:00:00.000Z"},{"user":{"id":"${user(8).id}","name":"${user(8).name}","displayName":"${user(8).displayName}"},"waiting":{"minutes":24},"weight":{"minutes":24,"milliseconds":0},"lastOnline":"2022-03-18T12:00:00.000Z"},{"user":{"id":"${user(9).id}","name":"${user(9).name}","displayName":"${user(9).displayName}"},"waiting":{"minutes":23},"weight":{"minutes":23,"milliseconds":0},"lastOnline":"2022-03-19T12:00:00.000Z"},{"user":{"id":"${user(11).id}","name":"${user(11).name}","displayName":"${user(11).displayName}"},"waiting":{"minutes":22},"weight":{"minutes":22,"milliseconds":0},"lastOnline":"2022-03-20T12:00:00.000Z"},{"user":{"id":"${user(12).id}","name":"${user(12).name}","displayName":"${user(12).displayName}"},"waiting":{"minutes":21},"weight":{"minutes":21,"milliseconds":0},"lastOnline":"2022-03-21T12:00:00.000Z"},{"user":{"id":"${user(13).id}","name":"${user(13).name}","displayName":"${user(13).displayName}"},"waiting":{"minutes":20},"weight":{"minutes":20,"milliseconds":0},"lastOnline":"2022-03-22T12:00:00.000Z"},{"user":{"id":"${user(14).id}","name":"${user(14).name}","displayName":"${user(14).displayName}"},"waiting":{"minutes":19},"weight":{"minutes":19,"milliseconds":0},"lastOnline":"2022-03-23T12:00:00.000Z"},{"user":{"id":"${deleted(15).id}","name":"${deleted(15).name}","displayName":"${deleted(15).displayName}"},"waiting":{"minutes":18},"weight":{"minutes":18,"milliseconds":0},"lastOnline":"2022-03-24T12:00:00.000Z"},{"user":{"id":"${user(16).id}","name":"${user(16).name}","displayName":"${user(16).displayName}"},"waiting":{"minutes":17},"weight":{"minutes":17,"milliseconds":0},"lastOnline":"2022-03-25T12:00:00.000Z"},{"user":{"id":"${user(17).id}","name":"${user(17).name}","displayName":"${user(17).displayName}"},"waiting":{"minutes":16},"weight":{"minutes":16,"milliseconds":0},"lastOnline":"2022-03-26T12:00:00.000Z"},{"user":{"id":"${user(18).id}","name":"${user(18).name}","displayName":"${user(18).displayName}"},"waiting":{"minutes":15},"weight":{"minutes":15,"milliseconds":0},"lastOnline":"2022-03-27T12:00:00.000Z"},{"user":{"id":"${user(19).id}","name":"${user(19).name}","displayName":"${user(19).displayName}"},"waiting":{"minutes":14},"weight":{"minutes":14,"milliseconds":0},"lastOnline":"2022-03-28T12:00:00.000Z"},{"user":{"id":"${user(20).id}","name":"${user(20).name}","displayName":"${user(20).displayName}"},"waiting":{"minutes":13},"weight":{"minutes":13,"milliseconds":0},"lastOnline":"2022-03-29T12:00:00.000Z"},{"user":{"id":"${user(21).id}","name":"${user(21).name}","displayName":"${user(21).displayName}"},"waiting":{"minutes":12},"weight":{"minutes":12,"milliseconds":0},"lastOnline":"2022-03-30T12:00:00.000Z"},{"user":{"id":"${user(22).id}","name":"${user(22).name}","displayName":"${user(22).displayName}"},"waiting":{"minutes":11},"weight":{"minutes":11,"milliseconds":0},"lastOnline":"2022-03-31T12:00:00.000Z"},{"user":{"id":"${user(23).id}","name":"${user(23).name}","displayName":"${user(23).displayName}"},"waiting":{"minutes":10},"weight":{"minutes":10,"milliseconds":0},"lastOnline":"2022-04-01T12:00:00.000Z"},{"user":{"id":"${user(24).id}","name":"${user(24).oldName}","displayName":"${user(24).oldDisplayName}"},"waiting":{"minutes":9},"weight":{"minutes":9,"milliseconds":0},"lastOnline":"2022-04-02T12:00:00.000Z"},{"user":{"id":"${user(25).id}","name":"${user(25).name}","displayName":"${user(25).displayName}"},"waiting":{"minutes":8},"weight":{"minutes":8,"milliseconds":0},"lastOnline":"2022-04-03T12:00:00.000Z"},{"user":{"id":"${user(26).id}","name":"${user(26).name}","displayName":"${user(26).displayName}"},"waiting":{"minutes":7},"weight":{"minutes":7,"milliseconds":0},"lastOnline":"2022-04-04T12:00:00.000Z"},{"user":{"id":"${user(27).id}","name":"${user(27).name}","displayName":"${user(27).displayName}"},"waiting":{"minutes":6},"weight":{"minutes":6,"milliseconds":0},"lastOnline":"2022-04-05T12:00:00.000Z"},{"user":{"id":"${user(28).id}","name":"${user(28).name}","displayName":"${user(28).displayName}"},"waiting":{"minutes":5},"weight":{"minutes":5,"milliseconds":0},"lastOnline":"2022-04-06T12:00:00.000Z"},{"user":{"id":"${user(29).id}","name":"${user(29).name}","displayName":"${user(29).displayName}"},"waiting":{"minutes":4},"weight":{"minutes":4,"milliseconds":0},"lastOnline":"2022-04-07T12:00:00.000Z"},{"user":{"id":"${user(30).id}","name":"${user(30).name}","displayName":"${user(30).displayName}"},"waiting":{"minutes":3},"weight":{"minutes":3,"milliseconds":0},"lastOnline":"2022-04-08T12:00:00.000Z"},{"user":{"id":"${user(31).id}","name":"${user(31).name}","displayName":"${user(31).displayName}"},"waiting":{"minutes":2},"weight":{"minutes":2,"milliseconds":0},"lastOnline":"2022-04-09T12:00:00.000Z"},{"user":{"id":"${user(32).id}","name":"${user(32).name}","displayName":"${user(32).displayName}"},"waiting":{"minutes":1},"weight":{"minutes":1,"milliseconds":0},"lastOnline":"2022-04-10T12:00:00.000Z"}]}
[12:15:48] ~%?liquidnya: !persistence load
[12:15:49] @^helperblock: @liquidnya Reloaded queue state from disk.
[12:15:58] ~%?liquidnya: !persistence save
[12:15:59] @^helperblock: @liquidnya Successfully persisted the queue state.
[12:15:59] ~%?liquidnya: !persistence on
[12:15:59] @^helperblock: @liquidnya Activated automatic queue persistence.

[12:17:00] ~%?liquidnya: !clear all
[12:15:49] @^helperblock: The queue has been cleared!

queue.json/entries/current null
queue.json/entries/queue []
# waiting is not cleared
queue.json/waiting [{"user":{"id":"${deleted(101).id}","name":"${deleted(101).name}","displayName":"${deleted(101).displayName}"},"waiting":{"minutes":33},"weight":{"minutes":33,"milliseconds":0},"lastOnline":"2022-03-09T12:00:00.000Z"},{"user":{"id":"${user(100).id}","name":"${user(100).name}","displayName":"${user(100).displayName}"},"waiting":{"minutes":32},"weight":{"minutes":32,"milliseconds":0},"lastOnline":"2022-03-10T12:00:00.000Z"},{"user":{"id":"${user(1).id}","name":"${user(1).name}","displayName":"${user(1).displayName}"},"waiting":{"minutes":31},"weight":{"minutes":31,"milliseconds":0},"lastOnline":"2022-03-11T12:00:00.000Z"},{"user":{"id":"${user(2).id}","name":"${user(2).name}","displayName":"${user(2).displayName}"},"waiting":{"minutes":30},"weight":{"minutes":30,"milliseconds":0},"lastOnline":"2022-03-12T12:00:00.000Z"},{"user":{"id":"${user(3).id}","name":"${user(3).name}","displayName":"${user(3).displayName}"},"waiting":{"minutes":29},"weight":{"minutes":29,"milliseconds":0},"lastOnline":"2022-03-13T12:00:00.000Z"},{"user":{"id":"${deleted(4).id}","name":"${deleted(4).name}","displayName":"${deleted(4).displayName}"},"waiting":{"minutes":28},"weight":{"minutes":28,"milliseconds":0},"lastOnline":"2022-03-14T12:00:00.000Z"},{"user":{"id":"${user(5).id}","name":"${user(5).name}","displayName":"${user(5).displayName}"},"waiting":{"minutes":27},"weight":{"minutes":27,"milliseconds":0},"lastOnline":"2022-03-15T12:00:00.000Z"},{"user":{"id":"${user(6).id}","name":"${user(6).name}","displayName":"${user(6).displayName}"},"waiting":{"minutes":26},"weight":{"minutes":26,"milliseconds":0},"lastOnline":"2022-03-16T12:00:00.000Z"},{"user":{"id":"${user(7).id}","name":"${user(7).name}","displayName":"${user(7).displayName}"},"waiting":{"minutes":25},"weight":{"minutes":25,"milliseconds":0},"lastOnline":"2022-03-17T12:00:00.000Z"},{"user":{"id":"${user(8).id}","name":"${user(8).name}","displayName":"${user(8).displayName}"},"waiting":{"minutes":24},"weight":{"minutes":24,"milliseconds":0},"lastOnline":"2022-03-18T12:00:00.000Z"},{"user":{"id":"${user(9).id}","name":"${user(9).name}","displayName":"${user(9).displayName}"},"waiting":{"minutes":23},"weight":{"minutes":23,"milliseconds":0},"lastOnline":"2022-03-19T12:00:00.000Z"},{"user":{"id":"${user(11).id}","name":"${user(11).name}","displayName":"${user(11).displayName}"},"waiting":{"minutes":22},"weight":{"minutes":22,"milliseconds":0},"lastOnline":"2022-03-20T12:00:00.000Z"},{"user":{"id":"${user(12).id}","name":"${user(12).name}","displayName":"${user(12).displayName}"},"waiting":{"minutes":21},"weight":{"minutes":21,"milliseconds":0},"lastOnline":"2022-03-21T12:00:00.000Z"},{"user":{"id":"${user(13).id}","name":"${user(13).name}","displayName":"${user(13).displayName}"},"waiting":{"minutes":20},"weight":{"minutes":20,"milliseconds":0},"lastOnline":"2022-03-22T12:00:00.000Z"},{"user":{"id":"${user(14).id}","name":"${user(14).name}","displayName":"${user(14).displayName}"},"waiting":{"minutes":19},"weight":{"minutes":19,"milliseconds":0},"lastOnline":"2022-03-23T12:00:00.000Z"},{"user":{"id":"${deleted(15).id}","name":"${deleted(15).name}","displayName":"${deleted(15).displayName}"},"waiting":{"minutes":18},"weight":{"minutes":18,"milliseconds":0},"lastOnline":"2022-03-24T12:00:00.000Z"},{"user":{"id":"${user(16).id}","name":"${user(16).name}","displayName":"${user(16).displayName}"},"waiting":{"minutes":17},"weight":{"minutes":17,"milliseconds":0},"lastOnline":"2022-03-25T12:00:00.000Z"},{"user":{"id":"${user(17).id}","name":"${user(17).name}","displayName":"${user(17).displayName}"},"waiting":{"minutes":16},"weight":{"minutes":16,"milliseconds":0},"lastOnline":"2022-03-26T12:00:00.000Z"},{"user":{"id":"${user(18).id}","name":"${user(18).name}","displayName":"${user(18).displayName}"},"waiting":{"minutes":15},"weight":{"minutes":15,"milliseconds":0},"lastOnline":"2022-03-27T12:00:00.000Z"},{"user":{"id":"${user(19).id}","name":"${user(19).name}","displayName":"${user(19).displayName}"},"waiting":{"minutes":14},"weight":{"minutes":14,"milliseconds":0},"lastOnline":"2022-03-28T12:00:00.000Z"},{"user":{"id":"${user(20).id}","name":"${user(20).name}","displayName":"${user(20).displayName}"},"waiting":{"minutes":13},"weight":{"minutes":13,"milliseconds":0},"lastOnline":"2022-03-29T12:00:00.000Z"},{"user":{"id":"${user(21).id}","name":"${user(21).name}","displayName":"${user(21).displayName}"},"waiting":{"minutes":12},"weight":{"minutes":12,"milliseconds":0},"lastOnline":"2022-03-30T12:00:00.000Z"},{"user":{"id":"${user(22).id}","name":"${user(22).name}","displayName":"${user(22).displayName}"},"waiting":{"minutes":11},"weight":{"minutes":11,"milliseconds":0},"lastOnline":"2022-03-31T12:00:00.000Z"},{"user":{"id":"${user(23).id}","name":"${user(23).name}","displayName":"${user(23).displayName}"},"waiting":{"minutes":10},"weight":{"minutes":10,"milliseconds":0},"lastOnline":"2022-04-01T12:00:00.000Z"},{"user":{"id":"${user(24).id}","name":"${user(24).oldName}","displayName":"${user(24).oldDisplayName}"},"waiting":{"minutes":9},"weight":{"minutes":9,"milliseconds":0},"lastOnline":"2022-04-02T12:00:00.000Z"},{"user":{"id":"${user(25).id}","name":"${user(25).name}","displayName":"${user(25).displayName}"},"waiting":{"minutes":8},"weight":{"minutes":8,"milliseconds":0},"lastOnline":"2022-04-03T12:00:00.000Z"},{"user":{"id":"${user(26).id}","name":"${user(26).name}","displayName":"${user(26).displayName}"},"waiting":{"minutes":7},"weight":{"minutes":7,"milliseconds":0},"lastOnline":"2022-04-04T12:00:00.000Z"},{"user":{"id":"${user(27).id}","name":"${user(27).name}","displayName":"${user(27).displayName}"},"waiting":{"minutes":6},"weight":{"minutes":6,"milliseconds":0},"lastOnline":"2022-04-05T12:00:00.000Z"},{"user":{"id":"${user(28).id}","name":"${user(28).name}","displayName":"${user(28).displayName}"},"waiting":{"minutes":5},"weight":{"minutes":5,"milliseconds":0},"lastOnline":"2022-04-06T12:00:00.000Z"},{"user":{"id":"${user(29).id}","name":"${user(29).name}","displayName":"${user(29).displayName}"},"waiting":{"minutes":4},"weight":{"minutes":4,"milliseconds":0},"lastOnline":"2022-04-07T12:00:00.000Z"},{"user":{"id":"${user(30).id}","name":"${user(30).name}","displayName":"${user(30).displayName}"},"waiting":{"minutes":3},"weight":{"minutes":3,"milliseconds":0},"lastOnline":"2022-04-08T12:00:00.000Z"},{"user":{"id":"${user(31).id}","name":"${user(31).name}","displayName":"${user(31).displayName}"},"waiting":{"minutes":2},"weight":{"minutes":2,"milliseconds":0},"lastOnline":"2022-04-09T12:00:00.000Z"},{"user":{"id":"${user(32).id}","name":"${user(32).name}","displayName":"${user(32).displayName}"},"waiting":{"minutes":1},"weight":{"minutes":1,"milliseconds":0},"lastOnline":"2022-04-10T12:00:00.000Z"}]

################################################################
# 3. Test !clear deleted                                       #
################################################################

# this also tests renames

[12:15:33] ~%?liquidnya: !persistence off
[12:15:34] @^helperblock: @liquidnya Deactivated automatic queue persistence.
save:data/queue.json {"version":"3.0","entries":{"current":{"code":"3H7-B19-7RF","type":"smm2","submitter":{"id":"${user(0).id}","name":"${user(0).name}","displayName":"${user(0).oldDisplayName}"}},"queue":[{"code":"VCY-MQY-PSF","type":"smm2","submitter":{"id":"${user(1).id}","name":"${user(1).name}","displayName":"${user(1).displayName}"}},{"code":"6P7-MV9-WVG","type":"smm2","submitter":{"id":"${user(2).id}","name":"${user(2).name}","displayName":"${user(2).displayName}"}},{"code":"X8Y-004-MJG","type":"smm2","submitter":{"id":"${user(3).id}","name":"${user(3).name}","displayName":"${user(3).displayName}"}},{"code":"D36-010-5YF","type":"smm2","submitter":{"id":"${deleted(4).id}","name":"${deleted(4).name}","displayName":"${deleted(4).displayName}"}},{"code":"BG4-281-TGF","type":"smm2","submitter":{"id":"${user(5).id}","name":"${user(5).name}","displayName":"${user(5).displayName}"}},{"code":"S5N-2QQ-9RG","type":"smm2","submitter":{"id":"${user(6).id}","name":"${user(6).name}","displayName":"${user(6).displayName}"}},{"code":"798-W1R-CPF","type":"smm2","submitter":{"id":"${user(7).id}","name":"${user(7).name}","displayName":"${user(7).displayName}"}},{"code":"73K-FRP-HRF","type":"smm2","submitter":{"id":"${user(8).id}","name":"${user(8).name}","displayName":"${user(8).displayName}"}},{"code":"BW2-G2R-CMG","type":"smm2","submitter":{"id":"${user(9).id}","name":"${user(9).name}","displayName":"${user(9).displayName}"}},{"code":"QWF-3K9-84G","type":"smm2","submitter":{"id":"${user(11).id}","name":"${user(11).name}","displayName":"${user(11).displayName}"}},{"code":"BRL-F70-CLG","type":"smm2","submitter":{"id":"${user(12).id}","name":"${user(12).name}","displayName":"${user(12).displayName}"}},{"code":"CVW-RN8-54G","type":"smm2","submitter":{"id":"${user(13).id}","name":"${user(13).name}","displayName":"${user(13).displayName}"}},{"code":"YYD-P82-N5G","type":"smm2","submitter":{"id":"${user(14).id}","name":"${user(14).name}","displayName":"${user(14).displayName}"}},{"code":"RSR-WB0-CRG","type":"smm2","submitter":{"id":"${deleted(15).id}","name":"${deleted(15).name}","displayName":"${deleted(15).displayName}"}},{"code":"K7D-3MM-NLF","type":"smm2","submitter":{"id":"${user(16).id}","name":"${user(16).name}","displayName":"${user(16).displayName}"}},{"code":"9HX-VNY-WWG","type":"smm2","submitter":{"id":"${user(17).id}","name":"${user(17).name}","displayName":"${user(17).displayName}"}},{"code":"MD8-6SM-F7G","type":"smm2","submitter":{"id":"${user(18).id}","name":"${user(18).name}","displayName":"${user(18).displayName}"}},{"code":"Y75-T7K-74G","type":"smm2","submitter":{"id":"${user(19).id}","name":"${user(19).name}","displayName":"${user(19).displayName}"}},{"code":"GBJ-6QY-P8G","type":"smm2","submitter":{"id":"${user(20).id}","name":"${user(20).name}","displayName":"${user(20).displayName}"}},{"code":"TGC-J68-JGF","type":"smm2","submitter":{"id":"${user(21).id}","name":"${user(21).name}","displayName":"${user(21).displayName}"}},{"code":"HHQ-LM6-3HG","type":"smm2","submitter":{"id":"${user(22).id}","name":"${user(22).name}","displayName":"${user(22).displayName}"}},{"code":"Y0P-506-THG","type":"smm2","submitter":{"id":"${user(23).id}","name":"${user(23).name}","displayName":"${user(23).displayName}"}},{"code":"MY2-H2M-DSG","type":"smm2","submitter":{"id":"${user(24).id}","name":"${user(24).oldName}","displayName":"${user(24).oldDisplayName}"}},{"code":"37Y-6F7-1YG","type":"smm2","submitter":{"id":"${user(25).id}","name":"${user(25).name}","displayName":"${user(25).displayName}"}},{"code":"M5X-JRS-MWF","type":"smm2","submitter":{"id":"${user(26).id}","name":"${user(26).name}","displayName":"${user(26).displayName}"}},{"code":"9V1-4TX-9WG","type":"smm2","submitter":{"id":"${user(27).id}","name":"${user(27).name}","displayName":"${user(27).displayName}"}},{"code":"M12-QXX-BSF","type":"smm2","submitter":{"id":"${user(28).id}","name":"${user(28).name}","displayName":"${user(28).displayName}"}},{"code":"7CD-H25-TXG","type":"smm2","submitter":{"id":"${user(29).id}","name":"${user(29).name}","displayName":"${user(29).displayName}"}},{"code":"125-FDF-58G","type":"smm2","submitter":{"id":"${user(30).id}","name":"${user(30).name}","displayName":"${user(30).displayName}"}},{"code":"BYS-W9N-PRG","type":"smm2","submitter":{"id":"${user(31).id}","name":"${user(31).name}","displayName":"${user(31).displayName}"}},{"code":"S3W-3Y7-MJG","type":"smm2","submitter":{"id":"${user(32).id}","name":"${user(32).name}","displayName":"${user(32).displayName}"}}]},"extensions":{},"waiting":[{"user":{"id":"${deleted(101).id}","name":"${deleted(101).name}","displayName":"${deleted(101).displayName}"},"waiting":{"minutes":33},"weight":{"minutes":33,"milliseconds":0},"lastOnline":"2022-03-09T12:00:00.000Z"},{"user":{"id":"${user(100).id}","name":"${user(100).name}","displayName":"${user(100).displayName}"},"waiting":{"minutes":32},"weight":{"minutes":32,"milliseconds":0},"lastOnline":"2022-03-10T12:00:00.000Z"},{"user":{"id":"${user(1).id}","name":"${user(1).name}","displayName":"${user(1).displayName}"},"waiting":{"minutes":31},"weight":{"minutes":31,"milliseconds":0},"lastOnline":"2022-03-11T12:00:00.000Z"},{"user":{"id":"${user(2).id}","name":"${user(2).name}","displayName":"${user(2).displayName}"},"waiting":{"minutes":30},"weight":{"minutes":30,"milliseconds":0},"lastOnline":"2022-03-12T12:00:00.000Z"},{"user":{"id":"${user(3).id}","name":"${user(3).name}","displayName":"${user(3).displayName}"},"waiting":{"minutes":29},"weight":{"minutes":29,"milliseconds":0},"lastOnline":"2022-03-13T12:00:00.000Z"},{"user":{"id":"${deleted(4).id}","name":"${deleted(4).name}","displayName":"${deleted(4).displayName}"},"waiting":{"minutes":28},"weight":{"minutes":28,"milliseconds":0},"lastOnline":"2022-03-14T12:00:00.000Z"},{"user":{"id":"${user(5).id}","name":"${user(5).name}","displayName":"${user(5).displayName}"},"waiting":{"minutes":27},"weight":{"minutes":27,"milliseconds":0},"lastOnline":"2022-03-15T12:00:00.000Z"},{"user":{"id":"${user(6).id}","name":"${user(6).name}","displayName":"${user(6).displayName}"},"waiting":{"minutes":26},"weight":{"minutes":26,"milliseconds":0},"lastOnline":"2022-03-16T12:00:00.000Z"},{"user":{"id":"${user(7).id}","name":"${user(7).name}","displayName":"${user(7).displayName}"},"waiting":{"minutes":25},"weight":{"minutes":25,"milliseconds":0},"lastOnline":"2022-03-17T12:00:00.000Z"},{"user":{"id":"${user(8).id}","name":"${user(8).name}","displayName":"${user(8).displayName}"},"waiting":{"minutes":24},"weight":{"minutes":24,"milliseconds":0},"lastOnline":"2022-03-18T12:00:00.000Z"},{"user":{"id":"${user(9).id}","name":"${user(9).name}","displayName":"${user(9).displayName}"},"waiting":{"minutes":23},"weight":{"minutes":23,"milliseconds":0},"lastOnline":"2022-03-19T12:00:00.000Z"},{"user":{"id":"${user(11).id}","name":"${user(11).name}","displayName":"${user(11).displayName}"},"waiting":{"minutes":22},"weight":{"minutes":22,"milliseconds":0},"lastOnline":"2022-03-20T12:00:00.000Z"},{"user":{"id":"${user(12).id}","name":"${user(12).name}","displayName":"${user(12).displayName}"},"waiting":{"minutes":21},"weight":{"minutes":21,"milliseconds":0},"lastOnline":"2022-03-21T12:00:00.000Z"},{"user":{"id":"${user(13).id}","name":"${user(13).name}","displayName":"${user(13).displayName}"},"waiting":{"minutes":20},"weight":{"minutes":20,"milliseconds":0},"lastOnline":"2022-03-22T12:00:00.000Z"},{"user":{"id":"${user(14).id}","name":"${user(14).name}","displayName":"${user(14).displayName}"},"waiting":{"minutes":19},"weight":{"minutes":19,"milliseconds":0},"lastOnline":"2022-03-23T12:00:00.000Z"},{"user":{"id":"${deleted(15).id}","name":"${deleted(15).name}","displayName":"${deleted(15).displayName}"},"waiting":{"minutes":18},"weight":{"minutes":18,"milliseconds":0},"lastOnline":"2022-03-24T12:00:00.000Z"},{"user":{"id":"${user(16).id}","name":"${user(16).name}","displayName":"${user(16).displayName}"},"waiting":{"minutes":17},"weight":{"minutes":17,"milliseconds":0},"lastOnline":"2022-03-25T12:00:00.000Z"},{"user":{"id":"${user(17).id}","name":"${user(17).name}","displayName":"${user(17).displayName}"},"waiting":{"minutes":16},"weight":{"minutes":16,"milliseconds":0},"lastOnline":"2022-03-26T12:00:00.000Z"},{"user":{"id":"${user(18).id}","name":"${user(18).name}","displayName":"${user(18).displayName}"},"waiting":{"minutes":15},"weight":{"minutes":15,"milliseconds":0},"lastOnline":"2022-03-27T12:00:00.000Z"},{"user":{"id":"${user(19).id}","name":"${user(19).name}","displayName":"${user(19).displayName}"},"waiting":{"minutes":14},"weight":{"minutes":14,"milliseconds":0},"lastOnline":"2022-03-28T12:00:00.000Z"},{"user":{"id":"${user(20).id}","name":"${user(20).name}","displayName":"${user(20).displayName}"},"waiting":{"minutes":13},"weight":{"minutes":13,"milliseconds":0},"lastOnline":"2022-03-29T12:00:00.000Z"},{"user":{"id":"${user(21).id}","name":"${user(21).name}","displayName":"${user(21).displayName}"},"waiting":{"minutes":12},"weight":{"minutes":12,"milliseconds":0},"lastOnline":"2022-03-30T12:00:00.000Z"},{"user":{"id":"${user(22).id}","name":"${user(22).name}","displayName":"${user(22).displayName}"},"waiting":{"minutes":11},"weight":{"minutes":11,"milliseconds":0},"lastOnline":"2022-03-31T12:00:00.000Z"},{"user":{"id":"${user(23).id}","name":"${user(23).name}","displayName":"${user(23).displayName}"},"waiting":{"minutes":10},"weight":{"minutes":10,"milliseconds":0},"lastOnline":"2022-04-01T12:00:00.000Z"},{"user":{"id":"${user(24).id}","name":"${user(24).oldName}","displayName":"${user(24).oldDisplayName}"},"waiting":{"minutes":9},"weight":{"minutes":9,"milliseconds":0},"lastOnline":"2022-04-02T12:00:00.000Z"},{"user":{"id":"${user(25).id}","name":"${user(25).name}","displayName":"${user(25).displayName}"},"waiting":{"minutes":8},"weight":{"minutes":8,"milliseconds":0},"lastOnline":"2022-04-03T12:00:00.000Z"},{"user":{"id":"${user(26).id}","name":"${user(26).name}","displayName":"${user(26).displayName}"},"waiting":{"minutes":7},"weight":{"minutes":7,"milliseconds":0},"lastOnline":"2022-04-04T12:00:00.000Z"},{"user":{"id":"${user(27).id}","name":"${user(27).name}","displayName":"${user(27).displayName}"},"waiting":{"minutes":6},"weight":{"minutes":6,"milliseconds":0},"lastOnline":"2022-04-05T12:00:00.000Z"},{"user":{"id":"${user(28).id}","name":"${user(28).name}","displayName":"${user(28).displayName}"},"waiting":{"minutes":5},"weight":{"minutes":5,"milliseconds":0},"lastOnline":"2022-04-06T12:00:00.000Z"},{"user":{"id":"${user(29).id}","name":"${user(29).name}","displayName":"${user(29).displayName}"},"waiting":{"minutes":4},"weight":{"minutes":4,"milliseconds":0},"lastOnline":"2022-04-07T12:00:00.000Z"},{"user":{"id":"${user(30).id}","name":"${user(30).name}","displayName":"${user(30).displayName}"},"waiting":{"minutes":3},"weight":{"minutes":3,"milliseconds":0},"lastOnline":"2022-04-08T12:00:00.000Z"},{"user":{"id":"${user(31).id}","name":"${user(31).name}","displayName":"${user(31).displayName}"},"waiting":{"minutes":2},"weight":{"minutes":2,"milliseconds":0},"lastOnline":"2022-04-09T12:00:00.000Z"},{"user":{"id":"${user(32).id}","name":"${user(32).name}","displayName":"${user(32).displayName}"},"waiting":{"minutes":1},"weight":{"minutes":1,"milliseconds":0},"lastOnline":"2022-04-10T12:00:00.000Z"}]}
[12:15:48] ~%?liquidnya: !persistence load
[12:15:49] @^helperblock: @liquidnya Reloaded queue state from disk.
[12:15:58] ~%?liquidnya: !persistence save
[12:15:59] @^helperblock: @liquidnya Successfully persisted the queue state.
[12:15:59] ~%?liquidnya: !persistence on
[12:15:59] @^helperblock: @liquidnya Activated automatic queue persistence.

[21:03:33] ~%?liquidnya (Ve/Ver): !clear deleted
[21:03:34] @^helperblock: Checking 34 users for deletion... (This may take a while)
[21:03:36] @^helperblock: 2 levels have been cleared from the queue and 2 users have been renamed!

queue.json/entries {"current":{"code":"3H7-B19-7RF","type":"smm2","submitter":{"id":"${user(0).id}","name":"${user(0).name}","displayName":"${user(0).displayName}"}},"queue":[{"code":"VCY-MQY-PSF","type":"smm2","submitter":{"id":"${user(1).id}","name":"${user(1).name}","displayName":"${user(1).displayName}"}},{"code":"6P7-MV9-WVG","type":"smm2","submitter":{"id":"${user(2).id}","name":"${user(2).name}","displayName":"${user(2).displayName}"}},{"code":"X8Y-004-MJG","type":"smm2","submitter":{"id":"${user(3).id}","name":"${user(3).name}","displayName":"${user(3).displayName}"}},{"code":"BG4-281-TGF","type":"smm2","submitter":{"id":"${user(5).id}","name":"${user(5).name}","displayName":"${user(5).displayName}"}},{"code":"S5N-2QQ-9RG","type":"smm2","submitter":{"id":"${user(6).id}","name":"${user(6).name}","displayName":"${user(6).displayName}"}},{"code":"798-W1R-CPF","type":"smm2","submitter":{"id":"${user(7).id}","name":"${user(7).name}","displayName":"${user(7).displayName}"}},{"code":"73K-FRP-HRF","type":"smm2","submitter":{"id":"${user(8).id}","name":"${user(8).name}","displayName":"${user(8).displayName}"}},{"code":"BW2-G2R-CMG","type":"smm2","submitter":{"id":"${user(9).id}","name":"${user(9).name}","displayName":"${user(9).displayName}"}},{"code":"QWF-3K9-84G","type":"smm2","submitter":{"id":"${user(11).id}","name":"${user(11).name}","displayName":"${user(11).displayName}"}},{"code":"BRL-F70-CLG","type":"smm2","submitter":{"id":"${user(12).id}","name":"${user(12).name}","displayName":"${user(12).displayName}"}},{"code":"CVW-RN8-54G","type":"smm2","submitter":{"id":"${user(13).id}","name":"${user(13).name}","displayName":"${user(13).displayName}"}},{"code":"YYD-P82-N5G","type":"smm2","submitter":{"id":"${user(14).id}","name":"${user(14).name}","displayName":"${user(14).displayName}"}},{"code":"K7D-3MM-NLF","type":"smm2","submitter":{"id":"${user(16).id}","name":"${user(16).name}","displayName":"${user(16).displayName}"}},{"code":"9HX-VNY-WWG","type":"smm2","submitter":{"id":"${user(17).id}","name":"${user(17).name}","displayName":"${user(17).displayName}"}},{"code":"MD8-6SM-F7G","type":"smm2","submitter":{"id":"${user(18).id}","name":"${user(18).name}","displayName":"${user(18).displayName}"}},{"code":"Y75-T7K-74G","type":"smm2","submitter":{"id":"${user(19).id}","name":"${user(19).name}","displayName":"${user(19).displayName}"}},{"code":"GBJ-6QY-P8G","type":"smm2","submitter":{"id":"${user(20).id}","name":"${user(20).name}","displayName":"${user(20).displayName}"}},{"code":"TGC-J68-JGF","type":"smm2","submitter":{"id":"${user(21).id}","name":"${user(21).name}","displayName":"${user(21).displayName}"}},{"code":"HHQ-LM6-3HG","type":"smm2","submitter":{"id":"${user(22).id}","name":"${user(22).name}","displayName":"${user(22).displayName}"}},{"code":"Y0P-506-THG","type":"smm2","submitter":{"id":"${user(23).id}","name":"${user(23).name}","displayName":"${user(23).displayName}"}},{"code":"MY2-H2M-DSG","type":"smm2","submitter":{"id":"${user(24).id}","name":"${user(24).name}","displayName":"${user(24).displayName}"}},{"code":"37Y-6F7-1YG","type":"smm2","submitter":{"id":"${user(25).id}","name":"${user(25).name}","displayName":"${user(25).displayName}"}},{"code":"M5X-JRS-MWF","type":"smm2","submitter":{"id":"${user(26).id}","name":"${user(26).name}","displayName":"${user(26).displayName}"}},{"code":"9V1-4TX-9WG","type":"smm2","submitter":{"id":"${user(27).id}","name":"${user(27).name}","displayName":"${user(27).displayName}"}},{"code":"M12-QXX-BSF","type":"smm2","submitter":{"id":"${user(28).id}","name":"${user(28).name}","displayName":"${user(28).displayName}"}},{"code":"7CD-H25-TXG","type":"smm2","submitter":{"id":"${user(29).id}","name":"${user(29).name}","displayName":"${user(29).displayName}"}},{"code":"125-FDF-58G","type":"smm2","submitter":{"id":"${user(30).id}","name":"${user(30).name}","displayName":"${user(30).displayName}"}},{"code":"BYS-W9N-PRG","type":"smm2","submitter":{"id":"${user(31).id}","name":"${user(31).name}","displayName":"${user(31).displayName}"}},{"code":"S3W-3Y7-MJG","type":"smm2","submitter":{"id":"${user(32).id}","name":"${user(32).name}","displayName":"${user(32).displayName}"}}]}

# waiting is cleared for deleted users!
queue.json/waiting [{"user":{"id":"${user(100).id}","name":"${user(100).name}","displayName":"${user(100).displayName}"},"waiting":{"minutes":32},"weight":{"minutes":32,"milliseconds":0},"lastOnline":"2022-03-10T12:00:00.000Z"},{"user":{"id":"${user(1).id}","name":"${user(1).name}","displayName":"${user(1).displayName}"},"waiting":{"minutes":31},"weight":{"minutes":31,"milliseconds":0},"lastOnline":"2022-03-11T12:00:00.000Z"},{"user":{"id":"${user(2).id}","name":"${user(2).name}","displayName":"${user(2).displayName}"},"waiting":{"minutes":30},"weight":{"minutes":30,"milliseconds":0},"lastOnline":"2022-03-12T12:00:00.000Z"},{"user":{"id":"${user(3).id}","name":"${user(3).name}","displayName":"${user(3).displayName}"},"waiting":{"minutes":29},"weight":{"minutes":29,"milliseconds":0},"lastOnline":"2022-03-13T12:00:00.000Z"},{"user":{"id":"${user(5).id}","name":"${user(5).name}","displayName":"${user(5).displayName}"},"waiting":{"minutes":27},"weight":{"minutes":27,"milliseconds":0},"lastOnline":"2022-03-15T12:00:00.000Z"},{"user":{"id":"${user(6).id}","name":"${user(6).name}","displayName":"${user(6).displayName}"},"waiting":{"minutes":26},"weight":{"minutes":26,"milliseconds":0},"lastOnline":"2022-03-16T12:00:00.000Z"},{"user":{"id":"${user(7).id}","name":"${user(7).name}","displayName":"${user(7).displayName}"},"waiting":{"minutes":25},"weight":{"minutes":25,"milliseconds":0},"lastOnline":"2022-03-17T12:00:00.000Z"},{"user":{"id":"${user(8).id}","name":"${user(8).name}","displayName":"${user(8).displayName}"},"waiting":{"minutes":24},"weight":{"minutes":24,"milliseconds":0},"lastOnline":"2022-03-18T12:00:00.000Z"},{"user":{"id":"${user(9).id}","name":"${user(9).name}","displayName":"${user(9).displayName}"},"waiting":{"minutes":23},"weight":{"minutes":23,"milliseconds":0},"lastOnline":"2022-03-19T12:00:00.000Z"},{"user":{"id":"${user(11).id}","name":"${user(11).name}","displayName":"${user(11).displayName}"},"waiting":{"minutes":22},"weight":{"minutes":22,"milliseconds":0},"lastOnline":"2022-03-20T12:00:00.000Z"},{"user":{"id":"${user(12).id}","name":"${user(12).name}","displayName":"${user(12).displayName}"},"waiting":{"minutes":21},"weight":{"minutes":21,"milliseconds":0},"lastOnline":"2022-03-21T12:00:00.000Z"},{"user":{"id":"${user(13).id}","name":"${user(13).name}","displayName":"${user(13).displayName}"},"waiting":{"minutes":20},"weight":{"minutes":20,"milliseconds":0},"lastOnline":"2022-03-22T12:00:00.000Z"},{"user":{"id":"${user(14).id}","name":"${user(14).name}","displayName":"${user(14).displayName}"},"waiting":{"minutes":19},"weight":{"minutes":19,"milliseconds":0},"lastOnline":"2022-03-23T12:00:00.000Z"},{"user":{"id":"${user(16).id}","name":"${user(16).name}","displayName":"${user(16).displayName}"},"waiting":{"minutes":17},"weight":{"minutes":17,"milliseconds":0},"lastOnline":"2022-03-25T12:00:00.000Z"},{"user":{"id":"${user(17).id}","name":"${user(17).name}","displayName":"${user(17).displayName}"},"waiting":{"minutes":16},"weight":{"minutes":16,"milliseconds":0},"lastOnline":"2022-03-26T12:00:00.000Z"},{"user":{"id":"${user(18).id}","name":"${user(18).name}","displayName":"${user(18).displayName}"},"waiting":{"minutes":15},"weight":{"minutes":15,"milliseconds":0},"lastOnline":"2022-03-27T12:00:00.000Z"},{"user":{"id":"${user(19).id}","name":"${user(19).name}","displayName":"${user(19).displayName}"},"waiting":{"minutes":14},"weight":{"minutes":14,"milliseconds":0},"lastOnline":"2022-03-28T12:00:00.000Z"},{"user":{"id":"${user(20).id}","name":"${user(20).name}","displayName":"${user(20).displayName}"},"waiting":{"minutes":13},"weight":{"minutes":13,"milliseconds":0},"lastOnline":"2022-03-29T12:00:00.000Z"},{"user":{"id":"${user(21).id}","name":"${user(21).name}","displayName":"${user(21).displayName}"},"waiting":{"minutes":12},"weight":{"minutes":12,"milliseconds":0},"lastOnline":"2022-03-30T12:00:00.000Z"},{"user":{"id":"${user(22).id}","name":"${user(22).name}","displayName":"${user(22).displayName}"},"waiting":{"minutes":11},"weight":{"minutes":11,"milliseconds":0},"lastOnline":"2022-03-31T12:00:00.000Z"},{"user":{"id":"${user(23).id}","name":"${user(23).name}","displayName":"${user(23).displayName}"},"waiting":{"minutes":10},"weight":{"minutes":10,"milliseconds":0},"lastOnline":"2022-04-01T12:00:00.000Z"},{"user":{"id":"${user(24).id}","name":"${user(24).name}","displayName":"${user(24).displayName}"},"waiting":{"minutes":9},"weight":{"minutes":9,"milliseconds":0},"lastOnline":"2022-04-02T12:00:00.000Z"},{"user":{"id":"${user(25).id}","name":"${user(25).name}","displayName":"${user(25).displayName}"},"waiting":{"minutes":8},"weight":{"minutes":8,"milliseconds":0},"lastOnline":"2022-04-03T12:00:00.000Z"},{"user":{"id":"${user(26).id}","name":"${user(26).name}","displayName":"${user(26).displayName}"},"waiting":{"minutes":7},"weight":{"minutes":7,"milliseconds":0},"lastOnline":"2022-04-04T12:00:00.000Z"},{"user":{"id":"${user(27).id}","name":"${user(27).name}","displayName":"${user(27).displayName}"},"waiting":{"minutes":6},"weight":{"minutes":6,"milliseconds":0},"lastOnline":"2022-04-05T12:00:00.000Z"},{"user":{"id":"${user(28).id}","name":"${user(28).name}","displayName":"${user(28).displayName}"},"waiting":{"minutes":5},"weight":{"minutes":5,"milliseconds":0},"lastOnline":"2022-04-06T12:00:00.000Z"},{"user":{"id":"${user(29).id}","name":"${user(29).name}","displayName":"${user(29).displayName}"},"waiting":{"minutes":4},"weight":{"minutes":4,"milliseconds":0},"lastOnline":"2022-04-07T12:00:00.000Z"},{"user":{"id":"${user(30).id}","name":"${user(30).name}","displayName":"${user(30).displayName}"},"waiting":{"minutes":3},"weight":{"minutes":3,"milliseconds":0},"lastOnline":"2022-04-08T12:00:00.000Z"},{"user":{"id":"${user(31).id}","name":"${user(31).name}","displayName":"${user(31).displayName}"},"waiting":{"minutes":2},"weight":{"minutes":2,"milliseconds":0},"lastOnline":"2022-04-09T12:00:00.000Z"},{"user":{"id":"${user(32).id}","name":"${user(32).name}","displayName":"${user(32).displayName}"},"waiting":{"minutes":1},"weight":{"minutes":1,"milliseconds":0},"lastOnline":"2022-04-10T12:00:00.000Z"}]

################################################################
# 3. Test !clear {duration}                                    #
################################################################

[12:15:33] ~%?liquidnya: !persistence off
[12:15:34] @^helperblock: @liquidnya Deactivated automatic queue persistence.
save:data/queue.json {"version":"3.0","entries":{"current":{"code":"3H7-B19-7RF","type":"smm2","submitter":{"id":"${user(0).id}","name":"${user(0).name}","displayName":"${user(0).oldDisplayName}"}},"queue":[{"code":"VCY-MQY-PSF","type":"smm2","submitter":{"id":"${user(1).id}","name":"${user(1).name}","displayName":"${user(1).displayName}"}},{"code":"6P7-MV9-WVG","type":"smm2","submitter":{"id":"${user(2).id}","name":"${user(2).name}","displayName":"${user(2).displayName}"}},{"code":"X8Y-004-MJG","type":"smm2","submitter":{"id":"${user(3).id}","name":"${user(3).name}","displayName":"${user(3).displayName}"}},{"code":"D36-010-5YF","type":"smm2","submitter":{"id":"${deleted(4).id}","name":"${deleted(4).name}","displayName":"${deleted(4).displayName}"}},{"code":"BG4-281-TGF","type":"smm2","submitter":{"id":"${user(5).id}","name":"${user(5).name}","displayName":"${user(5).displayName}"}},{"code":"S5N-2QQ-9RG","type":"smm2","submitter":{"id":"${user(6).id}","name":"${user(6).name}","displayName":"${user(6).displayName}"}},{"code":"798-W1R-CPF","type":"smm2","submitter":{"id":"${user(7).id}","name":"${user(7).name}","displayName":"${user(7).displayName}"}},{"code":"73K-FRP-HRF","type":"smm2","submitter":{"id":"${user(8).id}","name":"${user(8).name}","displayName":"${user(8).displayName}"}},{"code":"BW2-G2R-CMG","type":"smm2","submitter":{"id":"${user(9).id}","name":"${user(9).name}","displayName":"${user(9).displayName}"}},{"code":"QWF-3K9-84G","type":"smm2","submitter":{"id":"${user(11).id}","name":"${user(11).name}","displayName":"${user(11).displayName}"}},{"code":"BRL-F70-CLG","type":"smm2","submitter":{"id":"${user(12).id}","name":"${user(12).name}","displayName":"${user(12).displayName}"}},{"code":"CVW-RN8-54G","type":"smm2","submitter":{"id":"${user(13).id}","name":"${user(13).name}","displayName":"${user(13).displayName}"}},{"code":"YYD-P82-N5G","type":"smm2","submitter":{"id":"${user(14).id}","name":"${user(14).name}","displayName":"${user(14).displayName}"}},{"code":"RSR-WB0-CRG","type":"smm2","submitter":{"id":"${deleted(15).id}","name":"${deleted(15).name}","displayName":"${deleted(15).displayName}"}},{"code":"K7D-3MM-NLF","type":"smm2","submitter":{"id":"${user(16).id}","name":"${user(16).name}","displayName":"${user(16).displayName}"}},{"code":"9HX-VNY-WWG","type":"smm2","submitter":{"id":"${user(17).id}","name":"${user(17).name}","displayName":"${user(17).displayName}"}},{"code":"MD8-6SM-F7G","type":"smm2","submitter":{"id":"${user(18).id}","name":"${user(18).name}","displayName":"${user(18).displayName}"}},{"code":"Y75-T7K-74G","type":"smm2","submitter":{"id":"${user(19).id}","name":"${user(19).name}","displayName":"${user(19).displayName}"}},{"code":"GBJ-6QY-P8G","type":"smm2","submitter":{"id":"${user(20).id}","name":"${user(20).name}","displayName":"${user(20).displayName}"}},{"code":"TGC-J68-JGF","type":"smm2","submitter":{"id":"${user(21).id}","name":"${user(21).name}","displayName":"${user(21).displayName}"}},{"code":"HHQ-LM6-3HG","type":"smm2","submitter":{"id":"${user(22).id}","name":"${user(22).name}","displayName":"${user(22).displayName}"}},{"code":"Y0P-506-THG","type":"smm2","submitter":{"id":"${user(23).id}","name":"${user(23).name}","displayName":"${user(23).displayName}"}},{"code":"MY2-H2M-DSG","type":"smm2","submitter":{"id":"${user(24).id}","name":"${user(24).oldName}","displayName":"${user(24).oldDisplayName}"}},{"code":"37Y-6F7-1YG","type":"smm2","submitter":{"id":"${user(25).id}","name":"${user(25).name}","displayName":"${user(25).displayName}"}},{"code":"M5X-JRS-MWF","type":"smm2","submitter":{"id":"${user(26).id}","name":"${user(26).name}","displayName":"${user(26).displayName}"}},{"code":"9V1-4TX-9WG","type":"smm2","submitter":{"id":"${user(27).id}","name":"${user(27).name}","displayName":"${user(27).displayName}"}},{"code":"M12-QXX-BSF","type":"smm2","submitter":{"id":"${user(28).id}","name":"${user(28).name}","displayName":"${user(28).displayName}"}},{"code":"7CD-H25-TXG","type":"smm2","submitter":{"id":"${user(29).id}","name":"${user(29).name}","displayName":"${user(29).displayName}"}},{"code":"125-FDF-58G","type":"smm2","submitter":{"id":"${user(30).id}","name":"${user(30).name}","displayName":"${user(30).displayName}"}},{"code":"BYS-W9N-PRG","type":"smm2","submitter":{"id":"${user(31).id}","name":"${user(31).name}","displayName":"${user(31).displayName}"}},{"code":"S3W-3Y7-MJG","type":"smm2","submitter":{"id":"${user(32).id}","name":"${user(32).name}","displayName":"${user(32).displayName}"}}]},"extensions":{},"waiting":[{"user":{"id":"${deleted(101).id}","name":"${deleted(101).name}","displayName":"${deleted(101).displayName}"},"waiting":{"minutes":33},"weight":{"minutes":33,"milliseconds":0},"lastOnline":"2022-03-09T12:00:00.000Z"},{"user":{"id":"${user(100).id}","name":"${user(100).name}","displayName":"${user(100).displayName}"},"waiting":{"minutes":32},"weight":{"minutes":32,"milliseconds":0},"lastOnline":"2022-03-10T12:00:00.000Z"},{"user":{"id":"${user(1).id}","name":"${user(1).name}","displayName":"${user(1).displayName}"},"waiting":{"minutes":31},"weight":{"minutes":31,"milliseconds":0},"lastOnline":"2022-03-11T12:00:00.000Z"},{"user":{"id":"${user(2).id}","name":"${user(2).name}","displayName":"${user(2).displayName}"},"waiting":{"minutes":30},"weight":{"minutes":30,"milliseconds":0},"lastOnline":"2022-03-12T12:00:00.000Z"},{"user":{"id":"${user(3).id}","name":"${user(3).name}","displayName":"${user(3).displayName}"},"waiting":{"minutes":29},"weight":{"minutes":29,"milliseconds":0},"lastOnline":"2022-03-13T12:00:00.000Z"},{"user":{"id":"${deleted(4).id}","name":"${deleted(4).name}","displayName":"${deleted(4).displayName}"},"waiting":{"minutes":28},"weight":{"minutes":28,"milliseconds":0},"lastOnline":"2022-03-14T12:00:00.000Z"},{"user":{"id":"${user(5).id}","name":"${user(5).name}","displayName":"${user(5).displayName}"},"waiting":{"minutes":27},"weight":{"minutes":27,"milliseconds":0},"lastOnline":"2022-03-15T12:00:00.000Z"},{"user":{"id":"${user(6).id}","name":"${user(6).name}","displayName":"${user(6).displayName}"},"waiting":{"minutes":26},"weight":{"minutes":26,"milliseconds":0},"lastOnline":"2022-03-16T12:00:00.000Z"},{"user":{"id":"${user(7).id}","name":"${user(7).name}","displayName":"${user(7).displayName}"},"waiting":{"minutes":25},"weight":{"minutes":25,"milliseconds":0},"lastOnline":"2022-03-17T12:00:00.000Z"},{"user":{"id":"${user(8).id}","name":"${user(8).name}","displayName":"${user(8).displayName}"},"waiting":{"minutes":24},"weight":{"minutes":24,"milliseconds":0},"lastOnline":"2022-03-18T12:00:00.000Z"},{"user":{"id":"${user(9).id}","name":"${user(9).name}","displayName":"${user(9).displayName}"},"waiting":{"minutes":23},"weight":{"minutes":23,"milliseconds":0},"lastOnline":"2022-03-19T12:00:00.000Z"},{"user":{"id":"${user(11).id}","name":"${user(11).name}","displayName":"${user(11).displayName}"},"waiting":{"minutes":22},"weight":{"minutes":22,"milliseconds":0},"lastOnline":"2022-03-20T12:00:00.000Z"},{"user":{"id":"${user(12).id}","name":"${user(12).name}","displayName":"${user(12).displayName}"},"waiting":{"minutes":21},"weight":{"minutes":21,"milliseconds":0},"lastOnline":"2022-03-21T12:00:00.000Z"},{"user":{"id":"${user(13).id}","name":"${user(13).name}","displayName":"${user(13).displayName}"},"waiting":{"minutes":20},"weight":{"minutes":20,"milliseconds":0},"lastOnline":"2022-03-22T12:00:00.000Z"},{"user":{"id":"${user(14).id}","name":"${user(14).name}","displayName":"${user(14).displayName}"},"waiting":{"minutes":19},"weight":{"minutes":19,"milliseconds":0},"lastOnline":"2022-03-23T12:00:00.000Z"},{"user":{"id":"${deleted(15).id}","name":"${deleted(15).name}","displayName":"${deleted(15).displayName}"},"waiting":{"minutes":18},"weight":{"minutes":18,"milliseconds":0},"lastOnline":"2022-03-24T12:00:00.000Z"},{"user":{"id":"${user(16).id}","name":"${user(16).name}","displayName":"${user(16).displayName}"},"waiting":{"minutes":17},"weight":{"minutes":17,"milliseconds":0},"lastOnline":"2022-03-25T12:00:00.000Z"},{"user":{"id":"${user(17).id}","name":"${user(17).name}","displayName":"${user(17).displayName}"},"waiting":{"minutes":16},"weight":{"minutes":16,"milliseconds":0},"lastOnline":"2022-03-26T12:00:00.000Z"},{"user":{"id":"${user(18).id}","name":"${user(18).name}","displayName":"${user(18).displayName}"},"waiting":{"minutes":15},"weight":{"minutes":15,"milliseconds":0},"lastOnline":"2022-03-27T12:00:00.000Z"},{"user":{"id":"${user(19).id}","name":"${user(19).name}","displayName":"${user(19).displayName}"},"waiting":{"minutes":14},"weight":{"minutes":14,"milliseconds":0},"lastOnline":"2022-03-28T12:00:00.000Z"},{"user":{"id":"${user(20).id}","name":"${user(20).name}","displayName":"${user(20).displayName}"},"waiting":{"minutes":13},"weight":{"minutes":13,"milliseconds":0},"lastOnline":"2022-03-29T12:00:00.000Z"},{"user":{"id":"${user(21).id}","name":"${user(21).name}","displayName":"${user(21).displayName}"},"waiting":{"minutes":12},"weight":{"minutes":12,"milliseconds":0},"lastOnline":"2022-03-30T12:00:00.000Z"},{"user":{"id":"${user(22).id}","name":"${user(22).name}","displayName":"${user(22).displayName}"},"waiting":{"minutes":11},"weight":{"minutes":11,"milliseconds":0},"lastOnline":"2022-03-31T12:00:00.000Z"},{"user":{"id":"${user(23).id}","name":"${user(23).name}","displayName":"${user(23).displayName}"},"waiting":{"minutes":10},"weight":{"minutes":10,"milliseconds":0},"lastOnline":"2022-04-01T12:00:00.000Z"},{"user":{"id":"${user(24).id}","name":"${user(24).oldName}","displayName":"${user(24).oldDisplayName}"},"waiting":{"minutes":9},"weight":{"minutes":9,"milliseconds":0},"lastOnline":"2022-04-02T12:00:00.000Z"},{"user":{"id":"${user(25).id}","name":"${user(25).name}","displayName":"${user(25).displayName}"},"waiting":{"minutes":8},"weight":{"minutes":8,"milliseconds":0},"lastOnline":"2022-04-03T12:00:00.000Z"},{"user":{"id":"${user(26).id}","name":"${user(26).name}","displayName":"${user(26).displayName}"},"waiting":{"minutes":7},"weight":{"minutes":7,"milliseconds":0},"lastOnline":"2022-04-04T12:00:00.000Z"},{"user":{"id":"${user(27).id}","name":"${user(27).name}","displayName":"${user(27).displayName}"},"waiting":{"minutes":6},"weight":{"minutes":6,"milliseconds":0},"lastOnline":"2022-04-05T12:00:00.000Z"},{"user":{"id":"${user(28).id}","name":"${user(28).name}","displayName":"${user(28).displayName}"},"waiting":{"minutes":5},"weight":{"minutes":5,"milliseconds":0},"lastOnline":"2022-04-06T12:00:00.000Z"},{"user":{"id":"${user(29).id}","name":"${user(29).name}","displayName":"${user(29).displayName}"},"waiting":{"minutes":4},"weight":{"minutes":4,"milliseconds":0},"lastOnline":"2022-04-07T12:00:00.000Z"},{"user":{"id":"${user(30).id}","name":"${user(30).name}","displayName":"${user(30).displayName}"},"waiting":{"minutes":3},"weight":{"minutes":3,"milliseconds":0},"lastOnline":"2022-04-08T12:00:00.000Z"},{"user":{"id":"${user(31).id}","name":"${user(31).name}","displayName":"${user(31).displayName}"},"waiting":{"minutes":2},"weight":{"minutes":2,"milliseconds":0},"lastOnline":"2022-04-09T12:00:00.000Z"},{"user":{"id":"${user(32).id}","name":"${user(32).name}","displayName":"${user(32).displayName}"},"waiting":{"minutes":1},"weight":{"minutes":1,"milliseconds":0},"lastOnline":"2022-04-10T12:00:00.000Z"}]}
[12:15:48] ~%?liquidnya: !persistence load
[12:15:49] @^helperblock: @liquidnya Reloaded queue state from disk.
[12:15:58] ~%?liquidnya: !persistence save
[12:15:59] @^helperblock: @liquidnya Successfully persisted the queue state.
[12:15:59] ~%?liquidnya: !persistence on
[12:15:59] @^helperblock: @liquidnya Activated automatic queue persistence.

time 2022-04-26T12:00:00.000Z

[12:00:00] ~%?liquidnya: !clear 5years 20months
[12:00:00] @^helperblock: 0 levels older than 6 years, 8 months have been cleared from the queue!

[12:00:00] ~%?liquidnya: !clear 45 days 23 hours
# humanizeDuration is printing it like that:
[12:00:00] @^helperblock: 1 level older than 1 month, 2 weeks, 1 day, 12 hours, 30 minutes has been cleared from the queue!

[12:00:00] ~%?liquidnya: !clear 44 days 23 hours
# humanizeDuration is printing it like that:
[12:00:00] @^helperblock: 1 level older than 1 month, 2 weeks, 12 hours, 30 minutes has been cleared from the queue!

[12:00:00] ~%?liquidnya: !clear 43 days 23 hours
# humanizeDuration is printing it like that:
[12:00:00] @^helperblock: 1 level older than 1 month, 1 week, 6 days, 12 hours, 30 minutes has been cleared from the queue!

[12:00:00] ~%?liquidnya: !clear 40 days 23 hours
# humanizeDuration is printing it like that:
[12:00:00] @^helperblock: 3 levels older than 1 month, 1 week, 3 days, 12 hours, 30 minutes have been cleared from the queue!

# current level stays unaffected
queue.json/entries/current {"code":"3H7-B19-7RF","type":"smm2","submitter":{"id":"${user(0).id}","name":"${user(0).name}","displayName":"${user(0).oldDisplayName}"}}
queue.json/entries/queue [{"code":"798-W1R-CPF","type":"smm2","submitter":{"id":"${user(7).id}","name":"${user(7).name}","displayName":"${user(7).displayName}"}},{"code":"73K-FRP-HRF","type":"smm2","submitter":{"id":"${user(8).id}","name":"${user(8).name}","displayName":"${user(8).displayName}"}},{"code":"BW2-G2R-CMG","type":"smm2","submitter":{"id":"${user(9).id}","name":"${user(9).name}","displayName":"${user(9).displayName}"}},{"code":"QWF-3K9-84G","type":"smm2","submitter":{"id":"${user(11).id}","name":"${user(11).name}","displayName":"${user(11).displayName}"}},{"code":"BRL-F70-CLG","type":"smm2","submitter":{"id":"${user(12).id}","name":"${user(12).name}","displayName":"${user(12).displayName}"}},{"code":"CVW-RN8-54G","type":"smm2","submitter":{"id":"${user(13).id}","name":"${user(13).name}","displayName":"${user(13).displayName}"}},{"code":"YYD-P82-N5G","type":"smm2","submitter":{"id":"${user(14).id}","name":"${user(14).name}","displayName":"${user(14).displayName}"}},{"code":"RSR-WB0-CRG","type":"smm2","submitter":{"id":"${deleted(15).id}","name":"${deleted(15).name}","displayName":"${deleted(15).displayName}"}},{"code":"K7D-3MM-NLF","type":"smm2","submitter":{"id":"${user(16).id}","name":"${user(16).name}","displayName":"${user(16).displayName}"}},{"code":"9HX-VNY-WWG","type":"smm2","submitter":{"id":"${user(17).id}","name":"${user(17).name}","displayName":"${user(17).displayName}"}},{"code":"MD8-6SM-F7G","type":"smm2","submitter":{"id":"${user(18).id}","name":"${user(18).name}","displayName":"${user(18).displayName}"}},{"code":"Y75-T7K-74G","type":"smm2","submitter":{"id":"${user(19).id}","name":"${user(19).name}","displayName":"${user(19).displayName}"}},{"code":"GBJ-6QY-P8G","type":"smm2","submitter":{"id":"${user(20).id}","name":"${user(20).name}","displayName":"${user(20).displayName}"}},{"code":"TGC-J68-JGF","type":"smm2","submitter":{"id":"${user(21).id}","name":"${user(21).name}","displayName":"${user(21).displayName}"}},{"code":"HHQ-LM6-3HG","type":"smm2","submitter":{"id":"${user(22).id}","name":"${user(22).name}","displayName":"${user(22).displayName}"}},{"code":"Y0P-506-THG","type":"smm2","submitter":{"id":"${user(23).id}","name":"${user(23).name}","displayName":"${user(23).displayName}"}},{"code":"MY2-H2M-DSG","type":"smm2","submitter":{"id":"${user(24).id}","name":"${user(24).oldName}","displayName":"${user(24).oldDisplayName}"}},{"code":"37Y-6F7-1YG","type":"smm2","submitter":{"id":"${user(25).id}","name":"${user(25).name}","displayName":"${user(25).displayName}"}},{"code":"M5X-JRS-MWF","type":"smm2","submitter":{"id":"${user(26).id}","name":"${user(26).name}","displayName":"${user(26).displayName}"}},{"code":"9V1-4TX-9WG","type":"smm2","submitter":{"id":"${user(27).id}","name":"${user(27).name}","displayName":"${user(27).displayName}"}},{"code":"M12-QXX-BSF","type":"smm2","submitter":{"id":"${user(28).id}","name":"${user(28).name}","displayName":"${user(28).displayName}"}},{"code":"7CD-H25-TXG","type":"smm2","submitter":{"id":"${user(29).id}","name":"${user(29).name}","displayName":"${user(29).displayName}"}},{"code":"125-FDF-58G","type":"smm2","submitter":{"id":"${user(30).id}","name":"${user(30).name}","displayName":"${user(30).displayName}"}},{"code":"BYS-W9N-PRG","type":"smm2","submitter":{"id":"${user(31).id}","name":"${user(31).name}","displayName":"${user(31).displayName}"}},{"code":"S3W-3Y7-MJG","type":"smm2","submitter":{"id":"${user(32).id}","name":"${user(32).name}","displayName":"${user(32).displayName}"}}]
# waiting is not cleared (even for users that got their levels cleared)
queue.json/waiting [{"user":{"id":"${deleted(101).id}","name":"${deleted(101).name}","displayName":"${deleted(101).displayName}"},"waiting":{"minutes":33},"weight":{"minutes":33,"milliseconds":0},"lastOnline":"2022-03-09T12:00:00.000Z"},{"user":{"id":"${user(100).id}","name":"${user(100).name}","displayName":"${user(100).displayName}"},"waiting":{"minutes":32},"weight":{"minutes":32,"milliseconds":0},"lastOnline":"2022-03-10T12:00:00.000Z"},{"user":{"id":"${user(1).id}","name":"${user(1).name}","displayName":"${user(1).displayName}"},"waiting":{"minutes":31},"weight":{"minutes":31,"milliseconds":0},"lastOnline":"2022-03-11T12:00:00.000Z"},{"user":{"id":"${user(2).id}","name":"${user(2).name}","displayName":"${user(2).displayName}"},"waiting":{"minutes":30},"weight":{"minutes":30,"milliseconds":0},"lastOnline":"2022-03-12T12:00:00.000Z"},{"user":{"id":"${user(3).id}","name":"${user(3).name}","displayName":"${user(3).displayName}"},"waiting":{"minutes":29},"weight":{"minutes":29,"milliseconds":0},"lastOnline":"2022-03-13T12:00:00.000Z"},{"user":{"id":"${deleted(4).id}","name":"${deleted(4).name}","displayName":"${deleted(4).displayName}"},"waiting":{"minutes":28},"weight":{"minutes":28,"milliseconds":0},"lastOnline":"2022-03-14T12:00:00.000Z"},{"user":{"id":"${user(5).id}","name":"${user(5).name}","displayName":"${user(5).displayName}"},"waiting":{"minutes":27},"weight":{"minutes":27,"milliseconds":0},"lastOnline":"2022-03-15T12:00:00.000Z"},{"user":{"id":"${user(6).id}","name":"${user(6).name}","displayName":"${user(6).displayName}"},"waiting":{"minutes":26},"weight":{"minutes":26,"milliseconds":0},"lastOnline":"2022-03-16T12:00:00.000Z"},{"user":{"id":"${user(7).id}","name":"${user(7).name}","displayName":"${user(7).displayName}"},"waiting":{"minutes":25},"weight":{"minutes":25,"milliseconds":0},"lastOnline":"2022-03-17T12:00:00.000Z"},{"user":{"id":"${user(8).id}","name":"${user(8).name}","displayName":"${user(8).displayName}"},"waiting":{"minutes":24},"weight":{"minutes":24,"milliseconds":0},"lastOnline":"2022-03-18T12:00:00.000Z"},{"user":{"id":"${user(9).id}","name":"${user(9).name}","displayName":"${user(9).displayName}"},"waiting":{"minutes":23},"weight":{"minutes":23,"milliseconds":0},"lastOnline":"2022-03-19T12:00:00.000Z"},{"user":{"id":"${user(11).id}","name":"${user(11).name}","displayName":"${user(11).displayName}"},"waiting":{"minutes":22},"weight":{"minutes":22,"milliseconds":0},"lastOnline":"2022-03-20T12:00:00.000Z"},{"user":{"id":"${user(12).id}","name":"${user(12).name}","displayName":"${user(12).displayName}"},"waiting":{"minutes":21},"weight":{"minutes":21,"milliseconds":0},"lastOnline":"2022-03-21T12:00:00.000Z"},{"user":{"id":"${user(13).id}","name":"${user(13).name}","displayName":"${user(13).displayName}"},"waiting":{"minutes":20},"weight":{"minutes":20,"milliseconds":0},"lastOnline":"2022-03-22T12:00:00.000Z"},{"user":{"id":"${user(14).id}","name":"${user(14).name}","displayName":"${user(14).displayName}"},"waiting":{"minutes":19},"weight":{"minutes":19,"milliseconds":0},"lastOnline":"2022-03-23T12:00:00.000Z"},{"user":{"id":"${deleted(15).id}","name":"${deleted(15).name}","displayName":"${deleted(15).displayName}"},"waiting":{"minutes":18},"weight":{"minutes":18,"milliseconds":0},"lastOnline":"2022-03-24T12:00:00.000Z"},{"user":{"id":"${user(16).id}","name":"${user(16).name}","displayName":"${user(16).displayName}"},"waiting":{"minutes":17},"weight":{"minutes":17,"milliseconds":0},"lastOnline":"2022-03-25T12:00:00.000Z"},{"user":{"id":"${user(17).id}","name":"${user(17).name}","displayName":"${user(17).displayName}"},"waiting":{"minutes":16},"weight":{"minutes":16,"milliseconds":0},"lastOnline":"2022-03-26T12:00:00.000Z"},{"user":{"id":"${user(18).id}","name":"${user(18).name}","displayName":"${user(18).displayName}"},"waiting":{"minutes":15},"weight":{"minutes":15,"milliseconds":0},"lastOnline":"2022-03-27T12:00:00.000Z"},{"user":{"id":"${user(19).id}","name":"${user(19).name}","displayName":"${user(19).displayName}"},"waiting":{"minutes":14},"weight":{"minutes":14,"milliseconds":0},"lastOnline":"2022-03-28T12:00:00.000Z"},{"user":{"id":"${user(20).id}","name":"${user(20).name}","displayName":"${user(20).displayName}"},"waiting":{"minutes":13},"weight":{"minutes":13,"milliseconds":0},"lastOnline":"2022-03-29T12:00:00.000Z"},{"user":{"id":"${user(21).id}","name":"${user(21).name}","displayName":"${user(21).displayName}"},"waiting":{"minutes":12},"weight":{"minutes":12,"milliseconds":0},"lastOnline":"2022-03-30T12:00:00.000Z"},{"user":{"id":"${user(22).id}","name":"${user(22).name}","displayName":"${user(22).displayName}"},"waiting":{"minutes":11},"weight":{"minutes":11,"milliseconds":0},"lastOnline":"2022-03-31T12:00:00.000Z"},{"user":{"id":"${user(23).id}","name":"${user(23).name}","displayName":"${user(23).displayName}"},"waiting":{"minutes":10},"weight":{"minutes":10,"milliseconds":0},"lastOnline":"2022-04-01T12:00:00.000Z"},{"user":{"id":"${user(24).id}","name":"${user(24).oldName}","displayName":"${user(24).oldDisplayName}"},"waiting":{"minutes":9},"weight":{"minutes":9,"milliseconds":0},"lastOnline":"2022-04-02T12:00:00.000Z"},{"user":{"id":"${user(25).id}","name":"${user(25).name}","displayName":"${user(25).displayName}"},"waiting":{"minutes":8},"weight":{"minutes":8,"milliseconds":0},"lastOnline":"2022-04-03T12:00:00.000Z"},{"user":{"id":"${user(26).id}","name":"${user(26).name}","displayName":"${user(26).displayName}"},"waiting":{"minutes":7},"weight":{"minutes":7,"milliseconds":0},"lastOnline":"2022-04-04T12:00:00.000Z"},{"user":{"id":"${user(27).id}","name":"${user(27).name}","displayName":"${user(27).displayName}"},"waiting":{"minutes":6},"weight":{"minutes":6,"milliseconds":0},"lastOnline":"2022-04-05T12:00:00.000Z"},{"user":{"id":"${user(28).id}","name":"${user(28).name}","displayName":"${user(28).displayName}"},"waiting":{"minutes":5},"weight":{"minutes":5,"milliseconds":0},"lastOnline":"2022-04-06T12:00:00.000Z"},{"user":{"id":"${user(29).id}","name":"${user(29).name}","displayName":"${user(29).displayName}"},"waiting":{"minutes":4},"weight":{"minutes":4,"milliseconds":0},"lastOnline":"2022-04-07T12:00:00.000Z"},{"user":{"id":"${user(30).id}","name":"${user(30).name}","displayName":"${user(30).displayName}"},"waiting":{"minutes":3},"weight":{"minutes":3,"milliseconds":0},"lastOnline":"2022-04-08T12:00:00.000Z"},{"user":{"id":"${user(31).id}","name":"${user(31).name}","displayName":"${user(31).displayName}"},"waiting":{"minutes":2},"weight":{"minutes":2,"milliseconds":0},"lastOnline":"2022-04-09T12:00:00.000Z"},{"user":{"id":"${user(32).id}","name":"${user(32).name}","displayName":"${user(32).displayName}"},"waiting":{"minutes":1},"weight":{"minutes":1,"milliseconds":0},"lastOnline":"2022-04-10T12:00:00.000Z"}]
